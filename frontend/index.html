<!DOCTYPE html>
<html>
  <head>
    <title>Slidetag. Create a live slideshow with Instagram photos</title>
    <link href="css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link href="css/jumbotron-narrow.css" rel="stylesheet">
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="icon" type="image/gif" href="animated_favicon1.gif">
    <script src="./socket.io.js"></script>
    <script>
      const socket = io('http://localhost:3000', {transports: ['websocket']});

      socket.on('new_image', function (image) {
        var newImage = document.createElement("img");
        newImage.setAttribute("src", image.image_url);
        newImage.setAttribute("url", image.url);
        document.getElementById("images").appendChild(newImage);
      });

      function refreshTag() {
        document.getElementById('images').innerHTML = '';
        socket.emit('slideshow_request', {
          'hashtag': document.getElementById('hashtag').value,
          'min_likes': document.getElementById('min_likes').value,
          'number': document.getElementById('number').value
        });
      }
    </script>
  </head>
  <body>
    <label for="hashtag">Hashtag</label>
    <input type="text" placeholder="hashtag" id="hashtag" value="dog">

    <label for="min_likes">Minimum Likes</label>
    <input type="number" id="min_likes" value=10>

    <label for="number">Number of posts</label>
    <input type="number" id="number" value=15>

    <button onclick="refreshTag()">#Test</button>

    <div id="images">
    </div>
  </body>
</html>